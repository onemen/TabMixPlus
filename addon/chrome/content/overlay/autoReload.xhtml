<?xml version="1.0"?>

<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
<?xml-stylesheet href="chrome://tabmixplus/skin/numberinput.css"?>

<!DOCTYPE dialog [
<!ENTITY % tabmixDTD SYSTEM "chrome://tabmixplus/locale/tabmix.dtd" >
%tabmixDTD;
<!ENTITY % miscDTD SYSTEM "chrome://tabmixplus/locale/misc.dtd" >
%miscDTD;
]>

<dialog id="reloadevery_custom_dialog"
        title="&specifyreload.label;"
        buttons="accept,cancel"
        ondialogaccept="accept();"
        onload="load();"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        xmlns:html="http://www.w3.org/1999/xhtml"
        tabindex="0">

  <script type="text/javascript"><![CDATA[
    let t = document.getElementsByTagName("dialog")[0];
    let f = new Function("event", t.getAttribute("ondialogaccept"));
    t.addEventListener("dialogaccept", event => f.call(t, event));
    ]]></script>
  <script type="application/javascript" src="chrome://tabmixplus/content/preferences/numberinput.js"/>
  <script type="application/javascript" src="chrome://tabmixplus/content/overlay/autoReload.js"/>

  <html:fieldset orient="horizontal" align="center" style="display: flex; justify-content: center; align-items: center;">
    <html:legend>&reloadtime.label1;</html:legend>
    <div style="position: relative;">
      <html:input id="autoreload_minutes" type="number" required="required" min="0" size="4" maxlength="4"
        style="position: relative;z-index: 2;padding-right: 1px;margin: 0 16px 0 0;"
        oncommand="disable_OK();"
        oninput="onInput(this);"/>
        <html:select style="position: absolute;z-index: 1;left: 0px;height: 100%;width: 100%;"
          onchange="this.previousElementSibling.value=this.value; this.previousElementSibling.focus()"
          onfocus="this.selectedIndex = -1;">
          <html:option value="0">0</html:option>
          <html:option value="1">1</html:option>
          <html:option value="5">5</html:option>
          <html:option value="10">10</html:option>
          <html:option value="15">15</html:option>
          <html:option value="20">20</html:option>
          <html:option value="30">30</html:option>
        </html:select>
    </div>
    <label control="autoreload_minutes" value="&minutes.label;"/>

    <div style="position: relative;">
      <html:input list="sec" id="autoreload_seconds" type="number" required="required" min="0" max="59" size="3" maxlength="3"
        style="position: relative;z-index: 2;padding-right: 1px;margin: 0 16px 0 0;"
        oncommand="disable_OK();"
        oninput="onInput(this);"/>
        <html:select style="position: absolute;z-index: 1;left: 0px;height: 100%;width: 100%;"
          onchange="this.previousElementSibling.value=this.value; this.previousElementSibling.focus()"
          onfocus="this.selectedIndex = -1;">
          <html:option value="0">0</html:option>
          <html:option value="10">10</html:option>
          <html:option value="20">20</html:option>
          <html:option value="30">30</html:option>
          <html:option value="45">45</html:option>
        </html:select>
    </div>
    <label control="autoreload_seconds" value="&seconds.label;"/>
  </html:fieldset>

</dialog>
